"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.spyLogger = void 0;
const Transport = require("winston-transport");
class spyLogger extends Transport {
    constructor(opts) {
        super(opts);
        this.spy = opts.spy;
        this.level = opts.level || 'info';
    }
    log(info, callback) {
        setImmediate(() => {
            this.emit('logged', info);
        });
        this.spy(info);
        callback();
    }
}
exports.spyLogger = spyLogger;
